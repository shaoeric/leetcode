#### [206. 反转链表](https://leetcode-cn.com/problems/reverse-linked-list/)

![image-20211214094810419](figs/image-20211214094810419.png)

```python
class Solution:
    def reverseList(self, head: ListNode) -> ListNode:
        cur, pre = head, None
        while cur:
            nxt = cur.next
            cur.next = pre
            pre = cur
            cur = nxt
        return pre
```

```python
# 前序递归
class Solution:
    def reverseList(self, head: ListNode) -> ListNode:
        def helper(head, pre):
            if not head:
                return pre
            nxt = head.next
            head.next = pre
            pre = helper(nxt, head)
            return pre
        return helper(head, None)
```

```python
# 后序递归
class Solution:
    def reverseList(self, head: ListNode) -> ListNode:
        def helper(head):
            if not head or not head.next: return head

            res = helper(head.next)
            head.next.next = head
            head.next = None
            return res
        return helper(head)
```

#### [25. K 个一组翻转链表](https://leetcode-cn.com/problems/reverse-nodes-in-k-group/)

![image-20211214102422204](figs/image-20211214102422204.png)

```python
class Solution:
    def reverseKGroup(self, head: ListNode, k: int) -> ListNode:
        def reverse(head, tail):
            cur, pre = head, None
            while pre != tail:
                nxt = cur.next
                cur.next = pre
                pre = cur
                cur = nxt
            return tail, head
        
        dummy = ListNode(-1)
        dummy.next = head
        fast, slow = dummy, dummy
        while fast:
            for _ in range(k):
                fast = fast.next
                if not fast:
                    return dummy.next
            nxt = fast.next
            cur_head, cur_tail = reverse(slow.next, fast)
            cur_tail.next = nxt
            slow.next = cur_head
            fast = slow = cur_tail
        return dummy.next
```

#### [141. 环形链表](https://leetcode-cn.com/problems/linked-list-cycle/)

![image-20211214103455134](figs/image-20211214103455134.png)

```python
class Solution:
    def hasCycle(self, head: ListNode) -> bool:
        fast, slow = head, head
        while fast and fast.next:
            fast = fast.next.next
            slow = slow.next
            if fast == slow:
                return True
        return False
```

#### [142. 环形链表 II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)

![image-20211214133223079](figs/image-20211214133223079.png)

```python
class Solution:
    def detectCycle(self, head: ListNode) -> ListNode:
        fast, slow = head, head
        while fast and fast.next:
            fast = fast.next.next
            slow = slow.next
            if fast == slow:
                p = fast
                q = head
                while p != q:
                    p = p.next
                    q = q.next
                return p
        return None
```





#### [21. 合并两个有序链表](https://leetcode-cn.com/problems/merge-two-sorted-lists/)

![image-20211214103809327](figs/image-20211214103809327.png)

```python
class Solution:
    def mergeTwoLists(self, list1: Optional[ListNode], list2: Optional[ListNode]) -> Optional[ListNode]:
        dummy = ListNode(-1)
        p = dummy
        while list1 and list2:
            if list1.val < list2.val:
                p.next = list1
                list1 = list1.next
            else:
                p.next = list2
                list2 = list2.next
            p = p.next
        if list1:
            p.next = list1
        if list2:
            p.next = list2
        return dummy.next
```

#### [160. 相交链表](https://leetcode-cn.com/problems/intersection-of-two-linked-lists/)

![image-20211214104809791](figs/image-20211214104809791.png)

```python
class Solution:
    def getIntersectionNode(self, headA: ListNode, headB: ListNode) -> ListNode:
        a, b = headA, headB
        while a != b:
            a = a.next if a else headB
            b = b.next if b else headA
        return a
```

#### [92. 反转链表 II](https://leetcode-cn.com/problems/reverse-linked-list-ii/)

![image-20211214105710708](figs/image-20211214105710708.png)

```python
class Solution:
    def reverseBetween(self, head: ListNode, left: int, right: int) -> ListNode:
        def reverse(head, tail):
            cur, pre = head, None
            while pre != tail:
                nxt = cur.next
                cur.next = pre
                pre = cur
                cur = nxt
            return tail, head
        
        if left == right: return head
        dummy = ListNode(-1)
        dummy.next = head
        fast, slow = dummy, dummy
        for _ in range(right):
            fast = fast.next
        for _ in range(left-1):
            slow = slow.next
        nxt_head = fast.next
        cur_head, cur_tail = reverse(slow.next, fast)
        slow.next = cur_head
        cur_tail.next = nxt_head
        return dummy.next
```

